(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/salary/index"],{"51f5":function(t,e,n){"use strict";var a=n("8251"),u=n.n(a);u.a},"676f":function(t,e,n){"use strict";var a=n("7e10"),u=n.n(a);u.a},"6e6e":function(t,e,n){"use strict";(function(t){n("fef4");a(n("66fd"));var e=a(n("7526"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},7526:function(t,e,n){"use strict";n.r(e);var a=n("a94a"),u=n("9d31");for(var r in u)"default"!==r&&function(t){n.d(e,t,(function(){return u[t]}))}(r);n("51f5"),n("676f");var i,o=n("f0c5"),c=Object(o["a"])(u["default"],a["b"],a["c"],!1,null,"1af4e414",null,!1,a["a"],i);e["default"]=c.exports},"7e10":function(t,e,n){},8251:function(t,e,n){},"9d31":function(t,e,n){"use strict";n.r(e);var a=n("de51"),u=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=u.a},a94a:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,"8471"))},uRow:function(){return n.e("uview-ui/components/u-row/u-row").then(n.bind(null,"9428"))},uDropdown:function(){return n.e("uview-ui/components/u-dropdown/u-dropdown").then(n.bind(null,"c720"))},uDropdownItem:function(){return n.e("uview-ui/components/u-dropdown-item/u-dropdown-item").then(n.bind(null,"54cd"))},uTag:function(){return n.e("uview-ui/components/u-tag/u-tag").then(n.bind(null,"72fa"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"0e16"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"49cd"))}},u=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,(function(e,n){var a=t.__get_orig(e),u=t._f("filter_time")(e.createdAt);return{$orig:a,f0:u}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},r=[]},de51:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=u(n("a34a"));function u(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,a,u,r,i){try{var o=t[r](i),c=o.value}catch(s){return void n(s)}o.done?e(c):Promise.resolve(c).then(a,u)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(a,u){var i=t.apply(e,n);function o(t){r(i,a,u,o,c,"next",t)}function c(t){r(i,a,u,o,c,"throw",t)}o(void 0)}))}}var o={data:function(){return{searchBoxStyle:{width:"450rpx"},pH:0,navHeight:0,keyword:"",industryTitle:"行业",educationTitle:"学历",industry:0,education:0,industryOptions:[],educationOptions:[],page:0,pageSize:10,keyWord:"",list:[],loadingstatus:"loadmore",total:0}},filters:{filter_time:function(t){return/\d{4}-\d{1,2}-\d{1,2}/g.exec(t)[0]}},onLoad:function(){var t=this;return i(a.default.mark((function e(){var n,u;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$u.api.getDictionaryItem({code:"industry_type"});case 2:return n=e.sent,e.next=5,t.$u.api.getDictionaryItem({code:"education_type"});case 5:return u=e.sent,t.industryOptions=n.list,t.educationOptions=u.list,t.industryOptions.unshift({label:"全部",value:0}),t.educationOptions.unshift({label:"全部",value:0}),e.next=12,t.getSalaryList();case 12:case"end":return e.stop()}}),e)})))()},methods:{search:function(){var t=this;return i(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.list=[],t.page=0,t.loadingstatus="loadmore",e.next=5,t.getSalaryList();case 5:case"end":return e.stop()}}),e)})))()},clear:function(){var t=this;return i(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.list=[],t.page=0,t.loadingstatus="loadmore",e.next=5,t.getSalaryList();case 5:case"end":return e.stop()}}),e)})))()},toUrl:function(t){this.$u.route(t)},goDetail:function(e){t.navigateTo({url:"/pages/salary/details?id="+e})},getSalaryList:function(){var t=this;return i(a.default.mark((function e(){var n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$u.api.getSalaryInfoList({page:t.page+1,pageSize:t.pageSize,industry:t.industry,education:t.education,keyWord:t.keyWord});case 2:n=e.sent,t.list=t.list.concat(n.list),t.page=n.pagination.currentPage,t.pageSize=n.pagination.perPageCount,t.total=n.pagination.total,n.pagination.currentPage*n.pagination.perPageCount>=n.pagination.total&&(t.loadingstatus="nomore");case 8:case"end":return e.stop()}}),e)})))()},industryChange:function(){var t=this;return i(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.industryOptions.forEach((function(e,n){0!=e.value?e.value!=t.industry||(t.industryTitle=e.label):t.industryTitle="行业"})),t.list=[],t.page=0,t.loadingstatus="loadmore",e.next=6,t.getSalaryList();case 6:case"end":return e.stop()}}),e)})))()},educationChange:function(){var t=this;return i(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.educationOptions.forEach((function(e,n){0!=e.value?e.value!=t.education||(t.educationTitle=e.label):t.educationTitle="学历"})),t.list=[],t.page=0,t.loadingstatus="loadmore",e.next=6,t.getSalaryList();case 6:case"end":return e.stop()}}),e)})))()},reachBottom:function(){var t=this;return i(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("nomore"==t.loadingstatus){e.next=3;break}return e.next=3,t.getSalaryList();case 3:case"end":return e.stop()}}),e)})))()}},onReady:function(){var e=this;t.getSystemInfo({success:function(n){e._data.pH=n.windowHeight;var a=t.createSelectorQuery().select(".sv");a.boundingClientRect((function(t){var n=e._data.pH;e._data.navHeight=n-t.top})).exec()}})}};e.default=o}).call(this,n("543d")["default"])}},[["6e6e","common/runtime","common/vendor"]]]);